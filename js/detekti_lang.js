const langs = [
  {
    code: 'EN',
    hero: 'One Platform. All Access.',
    sub: 'Unify, control, and audit every identity in your business.',
    nav: ['Home', 'Features', 'How it Works', 'Clients', 'Resellers', 'Contact'],
    featuresTitle: 'Features',
    features: [
      ['Full Identity Governance', 'Complete control over users, roles, permissions and access reviews.'],
      ['Fast Deployment', 'Ready to run in weeks, not months. Start seeing value fast.'],
      ['Flexible Integration', 'Connects natively to SAP, LDAP, Salesforce, file shares and more.'],
      ['Real Auditability', 'Powerful recertification, SoD conflict management and audit reports.'],
      ['Compliance Ready', 'Built for SOX, GLBA, HIPAA, ISO and more. Reduce audit findings.']
    ],
    howTitle: 'How it Works',
    howStepTitles: [
      "Flexible Deployment",
      "Connect Everything",
      "Define SoD Matrices",
      "Configure Conflicts",
      "Automate Reviews",
      "Mitigate Risks"
    ],
    how: [
      'Connect your systems and applications',
      'Automate access reviews and certifications',
      'Detect, manage, and mitigate risk'
    ],
    clientsTitle: 'Who trusts Detekti?',
    testimonial: '“Detekti certification Process help us to gain control over access and compliance.”',
    testimonialName: '— Jose Paul Rodriguez - Risk Managment VP Multibank',
    resellerTitle: 'Become a Detekti Partner',
    resellerBenefits: [
      'Partner-focused onboarding and support',
      'Easy integration with existing IAM stack',
      'Fast go-to-market for your clients',
      'Attractive program for growth-focused partners',
      'No channel conflict'
    ],
    modal: {
      // Demo modal
      title: "Request a Demo",
      name: "Name:",
      company: "Company:",
      email: "Email:",
      comments: "Comments:",
      send: "Send",
      cancel: "Cancel",
      thankTitle: "Thank you!",
      thankMsg: "We received your request.",
      privacyNotice: "PRIVACY NOTICE: The personal data provided to Detekti will be treated confidentially and used to fulfill contractual and commercial relationships, provide products and services, and for other purposes outlined in the PERSONAL DATA PROTECTION POLICY of Detekti. You may review this policy at www.detekti.com or request it at privacy@detekti.com. Here you may also learn how to exercise your rights regarding your personal data, including access, update, correction, revocation, deletion, and more.",
      privacyCheck1: "I have read, understood, and accept the Personal Data Processing Policy",
      privacyCheck2: "I consent to the processing of my personal data",
      privacyWarning: "Please accept these 2 conditions to enable the submission of your message.",
      demoBtn: "Request Demo",
      // Partner modal
      partner: {
        title: "Partner Information",
        name: "Name:",
        company: "Company:",
        email: "Email:",
        comments: "Comments:",
        send: "Send",
        cancel: "Cancel",
        thankTitle: "Thank you!",
        thankMsg: "We received your information.",
        privacyNotice: "PRIVACY NOTICE: The personal data provided to Detekti will be treated confidentially and used to fulfill contractual and commercial relationships, provide products and services, and for other purposes outlined in the PERSONAL DATA PROTECTION POLICY of Detekti. You may review this policy at www.detekti.com or request it at privacy@detekti.com. Here you may also learn how to exercise your rights regarding your personal data, including access, update, correction, revocation, deletion, and more.",
        privacyCheck1: "I have read, understood, and accept the Personal Data Processing Policy",
        privacyCheck2: "I consent to the processing of my personal data",
        privacyWarning: "Please accept these 2 conditions to enable the submission of your message.",
        btn: "Contact for Partner Program"
      }
    }
  },
  {
    code: 'ES',
    hero: 'Todos los accesos unificados.',
    sub: 'Unifica, controla y audita cada identidad en tu organización.',
    nav: ['Inicio', 'Características', 'Cómo Funciona', 'Clientes', 'Partners', 'Contacto'],
    featuresTitle: 'Características',
    features: [
      ['Gobierno de Identidades Completo', 'Control total sobre usuarios, roles, permisos y revisiones de acceso.'],
      ['Implementación Rápida', 'Funcional en semanas, no meses. Comienza a obtener valor rápidamente.'],
      ['Integración Flexible', 'Conectividad nativa con SAP, LDAP, Salesforce, file shares y más.'],
      ['Auditabilidad Real', 'Recertificación, gestión de conflictos SoD y reportes de auditoría.'],
      ['Listo para Compliance', 'Cumple con SOX, GLBA, HIPAA, ISO y más. Reduce hallazgos.']
    ],
    howTitle: '¿Cómo Funciona?',
    howStepTitles: [
      "Despliegue Flexible",
      "Conecta Todo",
      "Define Matrices SoD",
      "Configura Conflictos",
      "Automatiza Revisiones",
      "Mitiga Riesgos"
    ],
    how: [
      'Conecta tus sistemas y aplicaciones',
      'Automatiza revisiones y certificaciones de acceso',
      'Detecta, gestiona y mitiga riesgos'
    ],
    clientsTitle: '¿Quién confía en Detekti?',
	testimonial: '“El proceso de Certificacion de Supervisores y Dueños de Detekti nos dio verdadero control sobre el acceso y el cumplimiento.”',
    testimonialName: '— Jose Paul Rodriguez - Risk Managment VP Multibank',	resellerTitle: 'Conviértete en Partner Detekti',
    resellerBenefits: [
      'Onboarding y soporte especializado para partners',
      'Integración fácil con tu stack IAM',
      'Go-to-market rápido para tus clientes',
      'Programa atractivo para partners que quieren crecer',
      'Sin conflicto de canal'
    ],
    modal: {
      title: "Solicita una Demo",
      name: "Nombre:",
      company: "Empresa:",
      email: "Correo electrónico:",
      comments: "Comentarios:",
      send: "Enviar",
      cancel: "Cancelar",
      thankTitle: "¡Gracias!",
      thankMsg: "Hemos recibido tu solicitud.",
      privacyNotice: "AVISO DE PRIVACIDAD: Los datos personales suministrados a Detekti serán tratados de forma confidencial y utilizados para cumplir relaciones contractuales y comerciales, la provisión de productos y servicios y otros fines detallados en la POLÍTICA DE PROTECCIÓN DE DATOS PERSONALES de Detekti. Puede consultar esta política en www.detekti.com o solicitarla a privacy@detekti.com. Aquí también puede ejercer sus derechos de acceso, actualización, rectificación, revocatoria, supresión y más.",
      privacyCheck1: "He leído, entendido y acepto la Política de Tratamiento de Datos Personales",
      privacyCheck2: "Autorizo el tratamiento de mis datos personales",
      privacyWarning: "Por favor acepta estas 2 condiciones para habilitar el envío del mensaje.",
      demoBtn: "Solicitar Demo",
      partner: {
        title: "Información de Partner",
        name: "Nombre:",
        company: "Empresa:",
        email: "Correo electrónico:",
        comments: "Comentarios:",
        send: "Enviar",
        cancel: "Cancelar",
        thankTitle: "¡Gracias!",
        thankMsg: "Hemos recibido tu información.",
        privacyNotice: "AVISO DE PRIVACIDAD: Los datos personales suministrados a Detekti serán tratados de forma confidencial y utilizados para cumplir relaciones contractuales y comerciales, la provisión de productos y servicios y otros fines detallados en la POLÍTICA DE PROTECCIÓN DE DATOS PERSONALES de Detekti. Puede consultar esta política en www.detekti.com o solicitarla a privacy@detekti.com. Aquí también puede ejercer sus derechos de acceso, actualización, rectificación, revocatoria, supresión y más.",
        privacyCheck1: "He leído, entendido y acepto la Política de Tratamiento de Datos Personales",
        privacyCheck2: "Autorizo el tratamiento de mis datos personales",
        privacyWarning: "Por favor acepta estas 2 condiciones para habilitar el envío del mensaje.",
        btn: "Contacto para Programa de Partners"
      }
    }
  },
  {
    code: 'PT',
    hero: 'Todos os acessos unificados.',
    sub: 'Unifique, controle e audite cada identidade em sua organização.',
    nav: ['Início', 'Recursos', 'Como Funciona', 'Clientes', 'Parceiros', 'Contato'],
    featuresTitle: 'Recursos',
    features: [
      ['Governança de Identidades Completa', 'Controle total sobre usuários, papéis, permissões e revisões de acesso.'],
      ['Implantação Rápida', 'Funcional em semanas, não meses. Veja valor rapidamente.'],
      ['Integração Flexível', 'Conexão nativa com SAP, LDAP, Salesforce, file shares e mais.'],
      ['Auditabilidade Real', 'Recertificação, gestão de conflitos SoD e relatórios de auditoria.'],
      ['Pronto para Compliance', 'Projetado para SOX, GLBA, HIPAA, ISO e mais. Reduza riscos de auditoria.']
    ],
    howTitle: 'Como Funciona',
    howStepTitles: [
      "Implantação Flexível",
      "Conecte Tudo",
      "Defina Matrizes SoD",
      "Configure Conflitos",
      "Automatize Revisões",
      "Mitigue Riscos"
    ],
    how: [
      'Conecte seus sistemas e aplicativos',
      'Automatize revisões e certificações de acesso',
      'Detecte, gerencie e mitigue riscos'
    ],
    clientsTitle: 'Quem confia na Detekti?',
	testimonial: '“O processo de Certificação de Supervisores e Responsáveis do Detekti nos proporcionou controle real sobre o acesso e o compliance.”',
	testimonialName: '— Jose Paul Rodriguez - Vice-presidente de Gestão de Riscos, Multibank',    
    resellerTitle: 'Torne-se um Parceiro Detekti',
    resellerBenefits: [
      'Onboarding e suporte especializado para parceiros',
      'Fácil integração com sua pilha IAM',
      'Go-to-market rápido para seus clientes',
      'Programa atrativo para parceiros em crescimento',
      'Sem conflito de canal'
    ],
    modal: {
      title: "Solicite uma Demonstração",
      name: "Nome:",
      company: "Empresa:",
      email: "E-mail:",
      comments: "Comentários:",
      send: "Enviar",
      cancel: "Cancelar",
      thankTitle: "Obrigado!",
      thankMsg: "Recebemos sua solicitação.",
      privacyNotice: "AVISO DE PRIVACIDADE: Os dados pessoais fornecidos à Detekti serão tratados confidencialmente e utilizados para fins de relações contratuais e comerciais, fornecimento de produtos e serviços e outros objetivos definidos na POLÍTICA DE PROTEÇÃO DE DADOS PESSOAIS da Detekti. Você pode consultar esta política em www.detekti.com ou solicitá-la em privacy@detekti.com. Aqui também pode exercer seus direitos de acesso, atualização, retificação, revogação, exclusão, entre outros.",
      privacyCheck1: "Li, compreendi e aceito a Política de Tratamento de Dados Pessoais",
      privacyCheck2: "Autorizo o tratamento dos meus dados pessoais",
      privacyWarning: "Aceite estas 2 condições para habilitar o envio da sua mensagem.",
      demoBtn: "Solicitar Demonstração",
      partner: {
        title: "Informações do Parceiro",
        name: "Nome:",
        company: "Empresa:",
        email: "E-mail:",
        comments: "Comentários:",
        send: "Enviar",
        cancel: "Cancelar",
        thankTitle: "Obrigado!",
        thankMsg: "Recebemos suas informações.",
        privacyNotice: "AVISO DE PRIVACIDADE: Os dados pessoais fornecidos à Detekti serão tratados confidencialmente e utilizados para fins de relações contratuais e comerciais, fornecimento de produtos e serviços e outros objetivos definidos na POLÍTICA DE PROTEÇÃO DE DADOS PESSOAIS da Detekti. Você pode consultar esta política em www.detekti.com ou solicitá-la em privacy@detekti.com. Aqui também pode exercer seus direitos de acesso, atualização, retificação, revogação, exclusão, entre outros.",
        privacyCheck1: "Li, compreendi e aceito a Política de Tratamento de Dados Pessoais",
        privacyCheck2: "Autorizo o tratamento dos meus dados pessoais",
        privacyWarning: "Aceite estas 2 condições para habilitar o envio da sua mensagem.",
        btn: "Contato para Programa de Parceiros"
      }
    }
  }
];

const btn = document.getElementById('langBtn');
let idx = 0;

function setLang(idx) {
  const l = langs[idx];
  btn.textContent = l.code;

  // HERO section
  if(document.getElementById('hero-title')) document.getElementById('hero-title').textContent = l.hero;
  if(document.getElementById('hero-sub')) document.getElementById('hero-sub').textContent = l.sub;

  // NAV (si tienes nav multiidioma)
  const navs = document.querySelectorAll('nav a');
  if (navs && l.nav) {
    for (let i = 0; i < navs.length; i++) {
      navs[i].textContent = l.nav[i];
    }
  }

  // FEATURES
  if(document.getElementById('features-title')) document.getElementById('features-title').textContent = l.featuresTitle;
  for (let i = 0; i < 5; i++) {
    if(document.getElementById(`f${i + 1}-title`)) document.getElementById(`f${i + 1}-title`).textContent = l.features[i][0];
    if(document.getElementById(`f${i + 1}-desc`)) document.getElementById(`f${i + 1}-desc`).textContent = l.features[i][1];
  }

  // HOW IT WORKS
  if(document.getElementById('how-title')) document.getElementById('how-title').textContent = l.howTitle;
  for (let i = 0; i < 6; i++) {
    if(document.getElementById(`how-step${i + 1}-title`)) document.getElementById(`how-step${i + 1}-title`).textContent = l.howStepTitles[i];
  }

  // CLIENTS / TESTIMONIAL
  if(document.getElementById('clients-title')) document.getElementById('clients-title').textContent = l.clientsTitle;
  if(document.getElementById('testi1')) document.getElementById('testi1').textContent = l.testimonial;
  if(document.getElementById('testi1-name')) document.getElementById('testi1-name').textContent = l.testimonialName;

  // PARTNERS/RESELLERS
  if(document.getElementById('reseller-title')) document.getElementById('reseller-title').textContent = l.resellerTitle;
  const ul = document.getElementById('reseller-benefits');
  if (ul && l.resellerBenefits) {
    ul.innerHTML = "";
    for (const li of l.resellerBenefits) {
      const item = document.createElement("li");
      item.textContent = li;
      ul.appendChild(item);
    }
  }

  // MODAL DEMO
  if(document.getElementById('modal-title')) document.getElementById('modal-title').textContent = l.modal.title;
  if(document.getElementById('modal-name-label')) document.getElementById('modal-name-label').textContent = l.modal.name;
  if(document.getElementById('modal-company-label')) document.getElementById('modal-company-label').textContent = l.modal.company;
  if(document.getElementById('modal-email-label')) document.getElementById('modal-email-label').textContent = l.modal.email;
  if(document.getElementById('modal-comments-label')) document.getElementById('modal-comments-label').textContent = l.modal.comments;
  if(document.getElementById('modal-send-btn')) document.getElementById('modal-send-btn').textContent = l.modal.send;
  if(document.getElementById('modal-cancel-btn')) document.getElementById('modal-cancel-btn').textContent = l.modal.cancel;
  if(document.getElementById('modal-thank-title')) document.getElementById('modal-thank-title').textContent = l.modal.thankTitle;
  if(document.getElementById('modal-thank-msg')) document.getElementById('modal-thank-msg').textContent = l.modal.thankMsg;
  if(document.getElementById('modal-privacy-notice')) document.getElementById('modal-privacy-notice').textContent = l.modal.privacyNotice;
  if(document.getElementById('privacy-check-1')) document.getElementById('privacy-check-1').textContent = l.modal.privacyCheck1;
  if(document.getElementById('privacy-check-2')) document.getElementById('privacy-check-2').textContent = l.modal.privacyCheck2;
  if(document.getElementById('privacy-warning-msg')) document.getElementById('privacy-warning-msg').textContent = l.modal.privacyWarning;
  if(document.getElementById('demoBtn')) document.getElementById('demoBtn').textContent = l.modal.demoBtn;

  // MODAL PARTNER
  if(document.getElementById('partner-modal-title')) document.getElementById('partner-modal-title').textContent = l.modal.partner.title;
  if(document.getElementById('partner-modal-name-label')) document.getElementById('partner-modal-name-label').textContent = l.modal.partner.name;
  if(document.getElementById('partner-modal-company-label')) document.getElementById('partner-modal-company-label').textContent = l.modal.partner.company;
  if(document.getElementById('partner-modal-email-label')) document.getElementById('partner-modal-email-label').textContent = l.modal.partner.email;
  if(document.getElementById('partner-modal-comments-label')) document.getElementById('partner-modal-comments-label').textContent = l.modal.partner.comments;
  if(document.getElementById('partner-modal-send-btn')) document.getElementById('partner-modal-send-btn').textContent = l.modal.partner.send;
  if(document.getElementById('partner-modal-cancel-btn')) document.getElementById('partner-modal-cancel-btn').textContent = l.modal.partner.cancel;
  if(document.getElementById('partner-modal-thank-title')) document.getElementById('partner-modal-thank-title').textContent = l.modal.partner.thankTitle;
  if(document.getElementById('partner-modal-thank-msg')) document.getElementById('partner-modal-thank-msg').textContent = l.modal.partner.thankMsg;
  if(document.getElementById('partner-modal-privacy-notice')) document.getElementById('partner-modal-privacy-notice').textContent = l.modal.partner.privacyNotice;
  if(document.getElementById('partner-privacy-check-1')) document.getElementById('partner-privacy-check-1').textContent = l.modal.partner.privacyCheck1;
  if(document.getElementById('partner-privacy-check-2')) document.getElementById('partner-privacy-check-2').textContent = l.modal.partner.privacyCheck2;
  if(document.getElementById('partner-privacy-warning-msg')) document.getElementById('partner-privacy-warning-msg').textContent = l.modal.partner.privacyWarning;
  if(document.getElementById('partnerBtn')) document.getElementById('partnerBtn').textContent = l.modal.partner.btn;

  // SCREENSHOTS SECTION
  if (document.getElementById('screenshots-title')) {
    document.getElementById('screenshots-title').textContent = l.screenshotsTitle;
  }
  // Actualiza el tooltip de la imagen actual
  if (typeof window.updateScreenshotTooltip === 'function') window.updateScreenshotTooltip();
}


btn.addEventListener('click', () => {
  idx = (idx + 1) % 3;
  setLang(idx);
});
setLang(0);
// --- Multiidioma para sección Screenshots ---
const screenshotSectionLang = [
  {
    screenshotsTitle: "Product Screenshots",
    screenshotsTooltips: [
      "Dashboard overview",
      "User access matrix",
      "SoD conflict detection",
      "Certification process screen",
      "Access request workflow",
      "Audit trail",
      "Admin configuration",
      "Custom reporting",
      "Risk dashboard"
    ]
  },
  {
    screenshotsTitle: "Capturas del Producto",
    screenshotsTooltips: [
      "Resumen del panel",
      "Matriz de acceso de usuarios",
      "Detección de conflictos SoD",
      "Pantalla de certificación",
      "Flujo de solicitud de acceso",
      "Trazabilidad de auditoría",
      "Configuración de administración",
      "Reportes personalizados",
      "Panel de riesgos"
    ]
  },
  {
    screenshotsTitle: "Capturas do Produto",
    screenshotsTooltips: [
      "Visão geral do painel",
      "Matriz de acesso de usuários",
      "Detecção de conflitos SoD",
      "Tela de certificação",
      "Fluxo de solicitação de acesso",
      "Trilha de auditoria",
      "Configuração administrativa",
      "Relatórios personalizados",
      "Painel de riscos"
    ]
  }
];

// -------- SLIDER DE SCREENSHOTS DETEKTI --------
const screenshotTotal = 9;
window.screenshotIdx = 1;
let screenshotInterval = null;

function getScreenshotLangIdx() {
  const code = document.getElementById('langBtn').textContent.trim();
  if (code === 'ES') return 1;
  if (code === 'PT') return 2;
  return 0;
}
function getScreenshotLangFolder() {
  const idx = getScreenshotLangIdx();
  if (idx === 1) return 'ES';
  if (idx === 2) return 'PT';
  return 'EN';
}
function setScreenshot(idx) {
  window.screenshotIdx = idx;
  const langFolder = getScreenshotLangFolder();
  const img = document.getElementById('screenshot-img');
  const tooltipText = screenshotSectionLang[getScreenshotLangIdx()].screenshotsTooltips[idx - 1] || "";
  img.style.opacity = "0";
  setTimeout(() => {
    const langPath = `assets/captures/${langFolder}/${idx}.png`;
    const fallbackPath = `assets/captures/${idx}.png`;
    img.src = langPath;
    img.onerror = function() {
      img.onerror = null;
      img.src = fallbackPath;
    };
    img.setAttribute('data-tooltip', tooltipText);
    img.style.opacity = "1";
  }, 150);
}
function nextScreenshot() {
  window.screenshotIdx = (window.screenshotIdx % screenshotTotal) + 1;
  setScreenshot(window.screenshotIdx);
}
function startScreenshotSlider() {
  if (screenshotInterval) clearInterval(screenshotInterval);
  screenshotInterval = setInterval(nextScreenshot, 2000);
}
function stopScreenshotSlider() {
  if (screenshotInterval) clearInterval(screenshotInterval);
}
// Tooltip handlers
const screenshotImg = document.getElementById('screenshot-img');
const screenshotTooltip = document.getElementById('screenshot-tooltip');
if (screenshotImg) {
  screenshotImg.addEventListener('mouseenter', function(e) {
    const text = screenshotImg.getAttribute('data-tooltip') || "";
    if (text.length > 0) {
      screenshotTooltip.textContent = text;
      screenshotTooltip.style.display = "block";
    }
  });
  screenshotImg.addEventListener('mousemove', function(e) {
    screenshotTooltip.style.left = (e.pageX - screenshotTooltip.offsetWidth / 2) + "px";
  });
  screenshotImg.addEventListener('mouseleave', function() {
    screenshotTooltip.style.display = "none";
  });
}
window.updateScreenshotTooltip = function() {
  // Actualiza el tooltip al cambiar idioma
  const idx = window.screenshotIdx || 1;
  if (screenshotImg) {
    screenshotImg.setAttribute('data-tooltip', screenshotSectionLang[getScreenshotLangIdx()].screenshotsTooltips[idx - 1] || "");
  }
}
document.getElementById('langBtn').addEventListener('click', function() {
  setScreenshot(window.screenshotIdx || 1);
  window.updateScreenshotTooltip();
});
// Inicialización
setScreenshot(1);
startScreenshotSlider();
window.updateScreenshotTooltip();


